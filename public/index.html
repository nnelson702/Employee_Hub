<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Skye Bridge — Employee Hub</title>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <div id="toast" class="toast hidden"></div>

  <!-- AUTH -->
  <section id="auth" class="auth-shell">
    <div class="card auth-card">
      <div class="brand">
        <div class="brand-badge">H</div>
        <div>
          <div class="brand-title">Skye Employee Hub</div>
          <div class="brand-sub">Sign in</div>
        </div>
      </div>

      <form id="authForm" class="auth-form">
        <label>Email</label>
        <input id="email" type="email" autocomplete="email" placeholder="you@company.com" required />
        <label>Password</label>
        <input id="password" type="password" autocomplete="current-password" required />
        <button class="btn primary" type="submit">Sign in</button>
      </form>

      <div class="muted small">
        If sign-in ever gets “stuck”, try a hard refresh or open incognito.
      </div>
    </div>
  </section>

  <!-- APP -->
  <section id="app" class="app-shell hidden">
    <header class="topbar">
      <div class="topbar-left">
        <div class="brand">
          <div class="brand-badge">H</div>
          <div>
            <div class="brand-title">Skye Employee Hub</div>
            <div id="whoami" class="brand-sub muted">—</div>
          </div>
        </div>
      </div>

      <div class="topbar-right">
        <button id="btnRefresh" class="btn">Refresh</button>
        <button id="btnSignOut" class="btn danger">Sign out</button>
      </div>
    </header>

    <div class="layout">
      <aside class="sidebar">
        <div class="card scope-card">
          <div class="small muted">Scope</div>
          <div id="scopeRole" class="mono">role: —</div>
          <div id="scopeStores" class="mono">stores: —</div>
        </div>

        <nav class="nav">
          <button class="nav-item active" data-route="goals-admin">Goals Admin</button>
          <button class="nav-item" data-route="goals-insights">Goals & Insights</button>
          <button class="nav-item" data-route="admin-panel">Admin Panel</button>
          <div class="nav-divider"></div>
          <button class="nav-item" data-route="feed">Comms Feed</button>
          <button class="nav-item" data-route="tasks">Tasks</button>
          <button class="nav-item" data-route="walks">Dept Walks</button>
          <button class="nav-item" data-route="library">Marketing & Training</button>
        </nav>
      </aside>

      <main class="main">
        <section id="route-goals-admin" class="route-view">
          <div class="card">
            <h2>Goals Admin</h2>
            <div class="muted">We’ll re-wire this back to your best version next. Admin Panel comes first.</div>
          </div>
        </section>

        <section id="route-goals-insights" class="route-view hidden">
          <div class="card">
            <h2>Goals & Insights</h2>
            <div class="muted">Next after Admin Panel.</div>
          </div>
        </section>

        <section id="route-admin-panel" class="route-view hidden"></section>

        <section id="route-feed" class="route-view hidden">
          <div class="card"><h2>Comms Feed</h2><div class="muted">Stub for now.</div></div>
        </section>

        <section id="route-tasks" class="route-view hidden">
          <div class="card"><h2>Tasks</h2><div class="muted">Stub for now.</div></div>
        </section>

        <section id="route-walks" class="route-view hidden">
          <div class="card"><h2>Dept Walks</h2><div class="muted">Stub for now.</div></div>
        </section>

        <section id="route-library" class="route-view hidden">
          <div class="card"><h2>Marketing & Training</h2><div class="muted">Stub for now.</div></div>
        </section>
      </main>
    </div>
  </section>

  <!-- Supabase UMD -->
  <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
  <script src="./config.js"></script>
  <script type="module" src="./main.js"></script>
</body>
</html>
