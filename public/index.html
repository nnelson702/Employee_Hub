<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Skye Employee Hub</title>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <div class="page">
    <header class="topbar">
      <div class="topbar-left">
        <div class="brand">Skye Employee Hub</div>
      </div>
      <div class="topbar-right">
        <div id="user-sub" class="user-sub"></div>
        <button id="btn-refresh" class="btn subtle" type="button">Refresh</button>
        <button id="btn-signout" class="btn" type="button">Sign out</button>
      </div>
    </header>

    <div id="global-banner" class="banner hidden"></div>

    <!-- AUTH -->
    <section id="auth-block" class="card">
      <h2>Sign in</h2>
      <div id="auth-error" class="banner banner-error hidden"></div>

      <form id="auth-form" class="form">
        <label>Email</label>
        <input id="email" type="email" autocomplete="email" required />

        <label>Password</label>
        <input id="password" type="password" autocomplete="current-password" required />

        <button class="btn primary" type="submit">Sign in</button>
      </form>

      <p class="hint">If sign-in succeeds but you see an error banner, your user likely needs a hub profile row.</p>
    </section>

    <!-- APP SHELL -->
    <section id="app-shell" class="shell hidden">
      <aside class="sidebar">
        <div class="card">
          <div class="card-title">Scope</div>
          <div id="scope-pill" class="scope-pill">—</div>
        </div>
        <nav id="nav" class="nav"></nav>
      </aside>

      <main class="main">
        <section id="tab-dashboard" class="tab card hidden">
          <h2>Dashboard</h2>
          <p>Pick a tab from the left.</p>
        </section>

        <section id="tab-goals-admin" class="tab card hidden">
          <h2>Goals Admin</h2>
          <div id="goals-admin-root"></div>
        </section>

        <section id="tab-insights" class="tab card hidden">
          <h2>Goals & Insights</h2>
          <div id="insights-root"></div>
        </section>

        <section id="tab-admin" class="tab card hidden">
          <h2>Admin Panel</h2>
          <div id="admin-root"></div>
        </section>

        <section id="tab-feed" class="tab card hidden">
          <h2>Comms Feed</h2>
          <div id="feed-root"></div>
        </section>

        <section id="tab-tasks" class="tab card hidden">
          <h2>Tasks</h2>
          <div id="tasks-root"></div>
        </section>

        <section id="tab-walks" class="tab card hidden">
          <h2>Dept Walks</h2>
          <div id="walks-root"></div>
        </section>

        <section id="tab-marketing" class="tab card hidden">
          <h2>Marketing & Training</h2>
          <div id="marketing-root"></div>
        </section>
      </main>
    </section>
  </div>

  <!-- 1) Supabase JS (required) -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

  <!-- 2) App config -->
  <script src="./config.js"></script>

  <!-- 3) Modules (optional – safe if missing, app.js checks for them) -->
  <!-- If you have module files, keep them here before app.js -->
  <!-- <script src="./modules/admin.js"></script> -->

  <!-- 4) App -->
  <script src="./app.js"></script>
</body>
</html>
